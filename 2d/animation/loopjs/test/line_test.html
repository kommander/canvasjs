<html>
<head>
  <title>Loop.js Line Animation Test</title>
  <script type="text/javascript" src="../loop.js"></script>
</head>
<body>
<h1>Loop.js Line Animation Test</h1>
<h2>Rendering 400 lines per second, random length and position with max 150 fps</h2>
<canvas id="testCanvas" width="400" height="400" />

<script type="text/javascript">
var canvas = document.getElementById('testCanvas');

function Line()
{
  var _fromX, _fromY, _toX, _toY;
  
  this.visible = true;
  this.paused = false;
  
  this.animate = function(){
    _fromX = randRange(0, 400);
    _fromY = randRange(0, 400);
    _toX = randRange(0, 400);
    _toY = randRange(0, 400);
  };
  
  this.draw = function(context)
  {
    context.beginPath();
    context.strokeStyle = '#00ffff';
    context.moveTo(_fromX, _fromY);
    context.lineTo(_toX, _toY);
    context.stroke();
    context.closePath();
  };
}

function randRange(minNum, maxNum) 
{
  return (Math.floor(Math.random() * (maxNum - minNum + 1)) + minNum);
}

var loop = new Loop(canvas);
loop.frameRate(150);
loop.showInfo(true);
for(var i = 0; i < 400; i++)
  loop.add(new Line());
loop.start();
</script>
</body>
</html>