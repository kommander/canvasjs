<html>
<head>
  <title>Loop.js Image Animation Test</title>
  <script type="text/javascript" src="../loop.js"></script>
</head>
<body>
<h1>Loop.js Image Animation Test</h1>
<h2>Rendering 1000 32x32px images per second, randomly positioned with max 200 fps</h2>
<canvas id="testCanvas" width="1024" height="768" />
<script type="text/javascript">
var canvas = document.getElementById('testCanvas');
var context = canvas.getContext('2d');

var img = new Image();
img.src = 'img/tile01.png';

img.onload = function(){
  var loop = new Loop(canvas);
  loop.frameRate(200);
  for(var i = 0; i < 1000; i++)
  {
    var im = new image();
    loop.add(im);
  }
  loop.showInfo(true);
  loop.start();
}

function image()
{
  var _x, _y;
  
  this.visible = true;
  this.paused = false;
  
  this.animate = function(){
    _x = randRange(0, 992);
    _y = randRange(0, 734);
  };
  
  this.draw = function(context)
  {
    context.drawImage(img, _x, _y);
  };
}

function randRange(minNum, maxNum) 
{
  return (Math.floor(Math.random() * (maxNum - minNum + 1)) + minNum);
}

</script>

</body>
</html>