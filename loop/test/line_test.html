<html>
<head>
  <title>Loop.js Line Animation Test</title>
  <script type="text/javascript" src="../../canvas.js"></script>
  <script type="text/javascript" src="../loop.js"></script>
</head>
<body>
<h1>Loop.js Line Animation Test</h1>
<h2>Rendering 400 lines per second, random length and position with max 150 fps</h2>
<canvas id="testCanvas" width="400" height="400" />

<script type="text/javascript">
var canvas = document.getElementById('testCanvas');

function Line()
{
  this.tick = function(context)
  {
    context.beginPath();
    context.strokeStyle = '#00ffff';
    context.moveTo(randRange(0, 400), randRange(0, 400));
    context.lineTo(randRange(0, 400), randRange(0, 400));
    context.stroke();
    context.closePath();
  };
}

function randRange(minNum, maxNum) 
{
  return (Math.floor(Math.random() * (maxNum - minNum + 1)) + minNum);
}

var loop = new kk.Loop(canvas.getContext('2d'), 150).showInfo(true);
for(var i = 0; i < 400; i++)
  loop.push(new Line());
loop.start();
</script>
</body>
</html>